name: Get new substrate plate - Substrate App Workflow
author: Casey Stone
info: Workflow for using PF400 to transfer new substrate plate to the OT-2
version: '0.1'

# TODO: TEST

flowdef:
  - name: remove lid
    module: biopf400
    action: remove_lid
    args: 
      source: payload.current_substrate_stack  # TODO: REPLACE WITH STACK NAME!
      target: lidstorage.nest1   # TODO: REPLACE WITH LID NEST NAME
      source_plate_rotation: wide
      target_plate_roation: wide
    comment: Removes lid before transfer to OT-2 

  - name: transfer
    module: biopf400
    action: transfer
    args:
      source: payload.current_substrate_stack  # TODO: REPLACE WITH STACK NAME!
      target: ot2biobeta.deck1
      source_plate_rotation: wide
      target_plate_rotation: wide
    comment: Get a new substrate plate from stack, place on OT-2


